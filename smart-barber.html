<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SmartBarber Pro - 8K Cinematic OS</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --dorado: #d4af37; --neon-blue: #00f2ff; --barber-red: #ff0000; --barber-blue: #0055ff;
        }
        
        body { 
            font-family: 'Segoe UI', sans-serif; background: #050505;
            color: white; margin: 0; overflow: hidden;
        }

        /* --- CONTENEDOR CINEMATOGRÁFICO --- */
        #shutter-container {
            position: fixed; inset: 0; z-index: 9999;
            background: #000; display: flex; align-items: center; justify-content: center;
            perspective: 1200px; /* Profundidad 3D */
        }

        /* --- PERSIANA HIPERREALISTA --- */
        .shutter {
            position: absolute; inset: 0;
            /* Textura de metal corrugado real */
            background: 
                linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
                url('https://www.transparenttextures.com/patterns/carbon-fibre.png'),
                linear-gradient(90deg, #0a0a0a 0%, #1a1a1a 10%, #050505 20%, #222 50%, #050505 80%, #1a1a1a 90%, #0a0a0a 100%);
            background-blend-mode: multiply, normal, normal;
            border-bottom: 40px solid #111;
            /* Sombra de contacto real */
            box-shadow: inset 0 0 200px rgba(0,0,0,0.9), 0 50px 100px rgba(0,0,0,1);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        /* Suciedad y desgaste (El secreto del realismo) */
        .shutter::before {
            content: ""; position: absolute; inset: 0;
            background: url('https://www.transparenttextures.com/patterns/p6.png'); /* Micro-polvo */
            opacity: 0.4; pointer-events: none;
        }

        /* --- LOGO NEÓN "TUBULAR" --- */
        .neon-box {
            padding: 20px 40px;
            border: 2px solid rgba(0, 242, 255, 0.3);
            border-radius: 10px;
            background: rgba(0, 242, 255, 0.03);
            backdrop-filter: blur(2px);
            position: relative;
            box-shadow: inset 0 0 20px rgba(0, 242, 255, 0.1);
        }

        .neon-text {
            font-size: 4.8rem; font-weight: 900; color: #fff;
            font-family: 'Orbitron', sans-serif;
            letter-spacing: 8px; opacity: 0;
            /* Renderizado de cristal */
            text-shadow: 
                0 0 2px #fff,
                0 0 10px rgba(0, 242, 255, 0.8),
                0 0 35px rgba(0, 242, 255, 0.4),
                0 0 70px rgba(0, 242, 255, 0.2);
            filter: blur(0.5px); /* Suavizado de lente */
        }

        /* --- BARBER POLE HIPERREALISTA --- */
        .pole-glass {
            width: 65px; height: 160px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 40px; position: relative; overflow: hidden;
            backdrop-filter: blur(8px);
            box-shadow: 0 0 50px rgba(0,0,0,0.8), inset 0 0 20px rgba(255,255,255,0.2);
            margin-bottom: 30px;
        }

        .stripes {
            width: 100%; height: 400px;
            background: repeating-linear-gradient(45deg, #cc0000 0px, #cc0000 40px, #fff 40px, #fff 80px, #0033aa 80px, #0033aa 120px, #fff 120px, #fff 160px);
            animation: rotatePole 1.5s linear infinite;
            filter: saturate(1.5) contrast(1.2);
        }

        /* --- EFECTO CÁMARA VIGNETTE --- */
        #shutter-container::after {
            content: ""; position: absolute; inset: 0;
            background: radial-gradient(circle, transparent 40%, rgba(0,0,0,0.8) 100%);
            pointer-events: none;
        }

        /* Dashboard (Conserva tu lógica pero con estética 8K) */
        #main-wrapper { opacity: 0; padding: 40px; transform: scale(1.1); filter: blur(10px); }
        .card-8k { background: rgba(15,15,15,0.8); border: 1px solid rgba(255,255,255,0.05); border-radius: 30px; backdrop-filter: blur(30px); }
        
        @keyframes rotatePole { from { transform: translateY(0); } to { transform: translateY(-160px); } }

        .spark { position: absolute; width: 3px; height: 3px; background: #fff; border-radius: 50%; box-shadow: 0 0 10px #00f2ff; pointer-events: none; }
    </style>
</head>
<body onclick="initAudio()">

    <div id="shutter-container">
        <div class="shutter" id="shutter">
            <div class="pole-glass">
                <div class="stripes"></div>
            </div>
            <div class="neon-box">
                <div class="neon-text" id="neon-logo">SMART BARBER</div>
            </div>
            <p id="status-text" style="color: #666; font-family: 'Orbitron'; margin-top: 30px; font-size: 0.7rem; letter-spacing: 5px; text-transform: uppercase;">
                LOCKED // PRESS TO ENGAGE
            </p>
        </div>
    </div>

    <div id="main-wrapper">
        <h1 id="reloj" style="text-align:center; font-family:'Orbitron'; color:var(--dorado)">00:00:00</h1>
        <div class="card-8k" style="max-width: 500px; margin: auto; padding: 30px; text-align: center;">
             <h2 style="font-family:'Orbitron'">ADMIN TERMINAL</h2>
             <input type="number" id="dni" placeholder="OPERATOR ID" style="background:transparent; border:1px solid #333; color:white; padding:15px; width:80%">
             <div style="display:flex; gap:10px; margin-top:20px">
                <button onclick="marcarSimulado('ENTRADA')" style="background:var(--dorado); color:black; padding:15px; flex:1; border-radius:10px; cursor:pointer">LOGIN</button>
                <button onclick="marcarSimulado('SALIDA')" style="background:transparent; border:1px solid #ff0000; color:white; padding:15px; flex:1; border-radius:10px; cursor:pointer">LOGOUT</button>
             </div>
        </div>
    </div>

<script>
    let audioIniciado = false;
    const ctx = new (window.AudioContext || window.webkitAudioContext)();

    function playSound(freq, type, dur, vol) {
        if(!audioIniciado) return;
        const osc = ctx.createOscillator();
        const gain = ctx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, ctx.currentTime);
        gain.gain.setValueAtTime(vol, ctx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + dur);
        osc.connect(gain); gain.connect(ctx.destination);
        osc.start(); osc.stop(ctx.currentTime + dur);
    }

    function initAudio() {
        if(audioIniciado) return;
        audioIniciado = true;
        ctx.resume();
        startCinematicSequence();
    }

    function startCinematicSequence() {
        const tl = gsap.timeline();
        
        // Efecto lente de cámara moviéndose
        gsap.to("#shutter", { scale: 1.1, duration: 6, ease: "sine.inOut" });

        tl.to("#status-text", { textContent: "SYSTEM_INITIALIZING...", duration: 1.5, ease: "none" })
          .to("#neon-logo", { 
            opacity: 1, duration: 0.05, repeat: 15, yoyo: true, 
            onRepeat: () => { 
                if(Math.random() > 0.4) {
                    createSpark();
                    playSound(50, 'square', 0.04, 0.1);
                    gsap.set("#shutter", { filter: "brightness(1.3) contrast(1.2) saturate(1.2)" });
                } else {
                    gsap.set("#shutter", { filter: "brightness(1) contrast(1) saturate(1)" });
                }
            } 
          })
          .to("#status-text", { textContent: "UNLOCKED", color: "#00f2ff", duration: 0.5 })
          // El movimiento de la persiana ahora es más suave y pesado
          .to("#shutter", { 
            y: "-110%", duration: 4.5, ease: "power4.inOut",
            onStart: () => {
                playSound(80, 'triangle', 2, 0.05);
            }
          })
          .to("#main-wrapper", { 
            opacity: 1, filter: "blur(0px)", scale: 1, duration: 2, ease: "power2.out" 
          }, "-=2.5");
    }

    function createSpark() {
        const spark = document.createElement('div');
        spark.className = 'spark';
        const rect = document.getElementById('neon-logo').getBoundingClientRect();
        spark.style.left = (rect.left + Math.random() * rect.width) + 'px';
        spark.style.top = (rect.top + Math.random() * rect.height) + 'px';
        document.body.appendChild(spark);
        gsap.to(spark, { 
            x: (Math.random()-0.5)*200, y: Math.random()*200 + 100, 
            opacity: 0, scale: 0, duration: 0.8, onComplete: () => spark.remove() 
        });
    }

    setInterval(() => { 
        const now = new Date();
        document.getElementById('reloj').innerText = now.toLocaleTimeString(); 
    }, 1000);

    function marcarSimulado(t) { 
        playSound(440, 'sine', 0.1, 0.05); 
        Swal.fire({
            title: 'TERMINAL ACCESS',
            text: t + ' REGISTERED SUCCESSFULLY',
            background: '#111',
            color: '#fff',
            confirmButtonColor: '#d4af37'
        }); 
    }
</script>
</body>
</html>
