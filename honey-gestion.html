<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DEMO - Gesti贸n Almac茅n Honey</title>
    
    <script src="https://unpkg.com/html5-qrcode"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>

    <style>
        :root { --naranja: #f39c12; --amarillo: #f1c40f; --negro: #1a1a1a; --rojo: #e74c3c; --verde: #2ecc71; --azul: #2980b9; }
        
        body { font-family: sans-serif; background: var(--negro); color: white; padding: 10px; text-align: center; margin:0; overflow-x: hidden; }

        /* --- SISTEMA DE PUERTAS DE VIDRIO DIVIDIDAS --- */
        #gate-container {
            position: fixed; inset: 0; z-index: 9999;
            display: flex; pointer-events: none;
        }
        .gate-panel {
            width: 50%; height: 100%;
            background: rgba(255, 255, 255, 0.05); /* Efecto cristal */
            backdrop-filter: blur(20px); /* Desenfoque de vidrio */
            -webkit-backdrop-filter: blur(20px);
            display: flex; align-items: center;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gate-left { 
            justify-content: flex-end; 
            border-right: 2px solid var(--naranja); 
            box-shadow: 10px 0 30px rgba(0,0,0,0.5);
        }
        .gate-right { 
            justify-content: flex-start; 
            border-left: 2px solid var(--naranja); 
            box-shadow: -10px 0 30px rgba(0,0,0,0.5);
        }
        
        /* El logo dividido */
        .gate-logo {
            font-size: 5rem; font-weight: 900; color: var(--naranja);
            text-shadow: 0 0 20px rgba(243, 156, 18, 0.6);
            letter-spacing: -5px;
            white-space: nowrap;
        }
        .left-text { transform: translateX(50%); } /* Centra la primera mitad */
        .right-text { transform: translateX(-50%); } /* Centra la segunda mitad */

        /* Marco met谩lico de las puertas */
        .gate-panel::before {
            content: ""; position: absolute; top: 0; bottom: 0;
            width: 40px; background: rgba(243, 156, 18, 0.05);
        }
        .gate-left::before { right: 0; }
        .gate-right::before { left: 0; }

        /* --- ESTILOS DE LA DEMO (Igual que los tuyos) --- */
        .card { background: #2c3e50; padding: 15px; border-radius: 15px; margin-bottom: 15px; text-align: left; border: 1px solid #444; }
        input { width: 100%; padding: 10px; margin: 5px 0; border-radius: 8px; border: none; box-sizing: border-box; font-size: 1rem; background: white; color: black; }
        .btn { width: 100%; padding: 12px; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin-top: 5px; }
        .btn-scan { background: var(--amarillo); color: black; }
        .btn-save { background: var(--verde); color: white; }
        .btn-nav { background: #555; color: white; margin-bottom: 10px; }
        h2, h3 { color: var(--amarillo); margin: 5px 0; }
        .tabla-contenedor { overflow-x: auto; margin-top: 10px; background: #1a1a1a; border-radius: 10px; }
        .tabla-inventario { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        .tabla-inventario th { background: #444; color: var(--amarillo); padding: 10px; text-align: left; }
        .tabla-inventario td { padding: 10px; border-bottom: 1px solid #333; }
        .badge-demo { background: var(--azul); color: white; padding: 5px 10px; border-radius: 10px; font-size: 0.8rem; font-weight: bold; }
    </style>
</head>
<body>

    <div id="gate-container">
        <div class="gate-panel gate-left">
            <span class="gate-logo left-text">HO</span>
        </div>
        <div class="gate-panel gate-right">
            <span class="gate-logo right-text">NEY</span>
        </div>
    </div>

    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
        <span class="badge-demo">MODO DEMOSTRACIN</span>
    </div>

    <h2> Demo Gesti贸n Almac茅n</h2>
    <p style="font-size: 0.8rem; color: #aaa;">Esta es una versi贸n de prueba. Los datos son p煤blicos.</p>
    
    <div id="reader" style="width: 100%; border-radius: 15px; overflow: hidden; border: 2px solid var(--amarillo); margin-bottom:10px;"></div>
    <button class="btn btn-scan" onclick="iniciarEscaneo()"> PROBAR ESCNER</button>

    <div class="card">
        <h3> Editor (Prueba Guardar)</h3>
        <input type="text" id="cod" placeholder="C贸digo de barras">
        <input type="text" id="nom" placeholder="Nombre del producto">
        <input type="number" id="pre" placeholder="Precio Venta $">
        <input type="number" id="sto" placeholder="Stock">
        <button class="btn btn-save" onclick="guardarProducto()"> GUARDAR CAMBIOS</button>
    </div>

    <div class="card">
        <h3> Lista de Mercader铆a</h3>
        <div class="tabla-contenedor">
            <table class="tabla-inventario">
                <thead>
                    <tr><th>Producto</th><th>Venta</th><th>Stock</th></tr>
                </thead>
                <tbody id="cuerpo-tabla"></tbody>
            </table>
        </div>
    </div>

<script>
    // --- LGICA DE APERTURA ---
    window.addEventListener('load', () => {
        const tl = gsap.timeline();
        // Las puertas se abren despu茅s de 1 segundo de carga
        tl.to(".gate-left", { x: "-100%", duration: 1.8, ease: "expo.inOut" }, "+=0.5")
          .to(".gate-right", { x: "100%", duration: 1.8, ease: "expo.inOut" }, "<")
          .to("#gate-container", { display: "none" });
    });

    // Tu l贸gica de Supabase (igual que antes)
    const SB_URL = "https://svpurpvbiujhcbiugrkh.supabase.co";
    const SB_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN2cHVycHZiaXVqaGNiaXVncmtoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc3NDgzMTUsImV4cCI6MjA4MzMyNDMxNX0.AivKJ0_N0z_4T4vLNfUcE2hepJ1XXOO8-4fSA3PJXdc";
    const _supabase = supabase.createClient(SB_URL, SB_KEY);
    
    window.onload = () => { cargarListaMercaderia(); };
    async function cargarListaMercaderia() {
        const { data } = await _supabase.from('productos_demo').select('*').order('nombre', { ascending: true });
        let html = "";
        data.forEach(p => {
            html += `<tr><td>${p.nombre}</td><td>$${p.precio}</td><td>${p.stock}</td></tr>`;
        });
        document.getElementById('cuerpo-tabla').innerHTML = html;
    }
    // ... resto de tus funciones de guardado y escaneo ...
</script>
</body>
</html>
